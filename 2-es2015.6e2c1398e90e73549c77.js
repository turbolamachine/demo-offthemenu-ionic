(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/0UB":function(t,n,o){"use strict";o.d(n,"a",(function(){return O}));var i=o("mrSG"),e=o("fXoL"),c=o("TEn/"),r=o("kVqo"),b=o("I/3d"),s=o("ofXK"),l=o("3Pt+");function a(t,n){if(1&t){const t=e.Qb();e.Pb(0,"ion-item",23),e.Pb(1,"ion-label",24),e.Pb(2,"h5"),e.mc(3,"Category :"),e.Ob(),e.Ob(),e.Pb(4,"ion-badge",25),e.Xb("click",(function(){return e.ic(t),e.Zb().clickOnCategory()})),e.mc(5),e.Ob(),e.Ob()}if(2&t){const t=e.Zb();e.Ab(5),e.nc(t.category.name)}}function u(t,n){if(1&t){const t=e.Qb();e.Pb(0,"ion-item",26),e.Pb(1,"ion-checkbox",27),e.Xb("ngModelChange",(function(o){return e.ic(t),n.$implicit.value=o})),e.Ob(),e.Pb(2,"ion-label"),e.mc(3),e.Ob(),e.Ob()}if(2&t){const t=n.$implicit;e.Ab(1),e.ec("ngModel",t.value),e.Ab(2),e.nc(t.label)}}function d(t,n){1&t&&(e.Pb(0,"ion-item",23),e.Pb(1,"ion-label"),e.mc(2,"No option available"),e.Ob(),e.Ob())}function m(t,n){if(1&t){const t=e.Qb();e.Pb(0,"ion-item",26),e.Pb(1,"ion-checkbox",27),e.Xb("ngModelChange",(function(o){return e.ic(t),n.$implicit.value=o})),e.Ob(),e.Pb(2,"ion-label"),e.mc(3),e.Ob(),e.Ob()}if(2&t){const t=n.$implicit,o=e.Zb(2);e.Ab(1),e.ec("ngModel",t.value),e.Ab(2),e.pc("",t.label," ($",o.category.price_extras,")")}}function g(t,n){1&t&&(e.Pb(0,"ion-item",23),e.Pb(1,"ion-label"),e.mc(2,"No extra available"),e.Ob(),e.Ob())}function f(t,n){if(1&t&&(e.Pb(0,"ion-card",10),e.Pb(1,"ion-card-subtitle",11),e.mc(2,"Extras"),e.Ob(),e.lc(3,m,4,3,"ion-item",12),e.lc(4,g,3,0,"ion-item",8),e.Ob()),2&t){const t=e.Zb();e.Ab(3),e.ec("ngForOf",t.tabExtras),e.Ab(1),e.ec("ngIf",0==t.tabExtras.length)}}let O=(()=>{class t{constructor(t,n,o,i,e,c){this.alertCtrl=t,this.order=n,this.navCtrl=o,this.db=i,this.modalController=e,this.navParams=c,this.quantity=0,this.tabOptions=[],this.tabExtras=[]}ngOnInit(){this.product=this.navParams.get("product"),this.db.doc("categories/"+this.product.categorie_id).valueChanges().subscribe(t=>{this.category=t});for(let t of this.product.options)this.tabOptions.push({label:t,value:!0});for(let t of this.product.extras)this.tabExtras.push({label:t,value:!1})}clickOnClose(){this.modalController.dismiss()}clickOnCategory(){this.modalController.dismiss(),this.navCtrl.navigateRoot("/category-list/"+this.product.categorie_id)}clickOnPlusButton(){this.quantity++}clickOnMinusButton(){this.quantity>0&&this.quantity--}clickOnOrderButton(){this.quantity>0?(this.order.addToCart(this.product.name,this.product.id,this.product.image,this.product.price,this.category.price_extras,this.quantity,this.tabOptions,this.tabExtras),this.presentAlertOK()):this.presentAlertNoQty()}presentAlertNoQty(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({header:"Error",message:"Your quantity must be greater than 0 in order to add to cart.",buttons:["OK"]});yield t.present()}))}presentAlertOK(){return Object(i.a)(this,void 0,void 0,(function*(){console.log(this.order.cart);const t=yield this.alertCtrl.create({header:"OK !",message:"You have added "+this.quantity+" times this item into your cart !",buttons:[{text:"Order again",role:"cancel",cssClass:"medium"},{text:"Order something else",cssClass:"secondary",handler:()=>{this.modalController.dismiss()}},{text:"Go to cart",cssClass:"success",handler:()=>{this.modalController.dismiss(),this.order.goToCart()}}]});yield t.present()}))}}return t.\u0275fac=function(n){return new(n||t)(e.Kb(c.a),e.Kb(r.a),e.Kb(c.R),e.Kb(b.a),e.Kb(c.Q),e.Kb(c.S))},t.\u0275cmp=e.Eb({type:t,selectors:[["app-product"]],decls:41,vars:9,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click"],["name","close-outline"],["lines","none",1,"ion-margin-bottom"],[3,"src"],["lines","none",1,"ion-margin-top"],["color","dark",1,"ion-margin-top"],["lines","none",4,"ngIf"],["color","dark",1,"price"],[1,"ion-padding"],["color","dark"],["color","light","lines","none",4,"ngFor","ngForOf"],["class","ion-padding",4,"ngIf"],["lines","none",1,"ion-padding-top","ion-padding-start","ion-padding-end"],[3,"click"],["name","remove"],["disabled",""],[3,"ngModel","ngModelChange"],["name","add"],["lines","none",1,"ion-text-center"],["size","large","color","danger","shape","round",3,"click"],["slot","start","name","basket"],["lines","none"],["color","theme"],["slot","end","color","theme",3,"click"],["color","light","lines","none"],["slot","start",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.Pb(0,"ion-header",0),e.Pb(1,"ion-toolbar"),e.Pb(2,"ion-buttons",1),e.Pb(3,"ion-button",2),e.Xb("click",(function(){return n.clickOnClose()})),e.Lb(4,"ion-icon",3),e.Ob(),e.Ob(),e.Ob(),e.Ob(),e.Pb(5,"ion-content"),e.Pb(6,"ion-item",4),e.Lb(7,"ion-img",5),e.Ob(),e.Pb(8,"ion-item",6),e.Pb(9,"ion-label",7),e.Pb(10,"h1"),e.mc(11),e.Ob(),e.Ob(),e.Ob(),e.lc(12,a,6,1,"ion-item",8),e.Pb(13,"ion-item",6),e.Pb(14,"ion-text"),e.mc(15),e.Ob(),e.Ob(),e.Pb(16,"ion-item",6),e.Pb(17,"ion-label",9),e.mc(18),e.Ob(),e.Ob(),e.Pb(19,"ion-card",10),e.Pb(20,"ion-card-subtitle",11),e.mc(21,"Options"),e.Ob(),e.lc(22,u,4,2,"ion-item",12),e.lc(23,d,3,0,"ion-item",8),e.Ob(),e.lc(24,f,5,2,"ion-card",13),e.Pb(25,"ion-item",14),e.Pb(26,"ion-segment"),e.Pb(27,"ion-segment-button",15),e.Xb("click",(function(){return n.clickOnMinusButton()})),e.Pb(28,"ion-label"),e.Lb(29,"ion-icon",16),e.Ob(),e.Ob(),e.Pb(30,"ion-segment-button",17),e.Pb(31,"ion-input",18),e.Xb("ngModelChange",(function(t){return n.quantity=t})),e.Ob(),e.Ob(),e.Pb(32,"ion-segment-button",15),e.Xb("click",(function(){return n.clickOnPlusButton()})),e.Pb(33,"ion-label"),e.Lb(34,"ion-icon",19),e.Ob(),e.Ob(),e.Ob(),e.Ob(),e.Pb(35,"ion-item",20),e.Pb(36,"ion-label"),e.Pb(37,"ion-button",21),e.Xb("click",(function(){return n.clickOnOrderButton()})),e.Lb(38,"ion-icon",22),e.Pb(39,"ion-label"),e.mc(40,"ORDER"),e.Ob(),e.Ob(),e.Ob(),e.Ob(),e.Ob()),2&t&&(e.Ab(7),e.ec("src",n.product.image),e.Ab(4),e.nc(n.product.name),e.Ab(1),e.ec("ngIf",n.category),e.Ab(3),e.oc(" ",n.product.description," "),e.Ab(3),e.oc(" $",n.product.price," "),e.Ab(4),e.ec("ngForOf",n.tabOptions),e.Ab(1),e.ec("ngIf",0==n.tabOptions.length),e.Ab(1),e.ec("ngIf",n.category),e.Ab(7),e.ec("ngModel",n.quantity))},directives:[c.q,c.L,c.g,c.f,c.r,c.l,c.u,c.s,c.w,s.j,c.J,c.h,c.i,s.i,c.E,c.V,c.F,c.t,c.W,l.d,l.e,c.e,c.j,c.b],styles:["ion-img[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.price[_ngcontent-%COMP%]{font-size:30px;font-weight:700}ion-segment-button[_ngcontent-%COMP%]{font-size:20px}ion-segment-button[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{color:#222!important}ion-segment-button.segment-button-disabled[_ngcontent-%COMP%]{opacity:1}"]}),t})()},Xo8k:function(t,n,o){"use strict";o.d(n,"a",(function(){return k}));var i=o("fXoL"),e=o("kVqo"),c=o("TEn/"),r=o("ofXK"),b=o("tyNb");function s(t,n){if(1&t&&(i.Pb(0,"div",14),i.mc(1),i.Ob()),2&t){const t=i.Zb().$implicit;i.Ab(1),i.nc(t.label)}}function l(t,n){if(1&t&&(i.Nb(0),i.lc(1,s,2,1,"div",13),i.Mb()),2&t){const t=n.$implicit;i.Ab(1),i.ec("ngIf",t.value)}}function a(t,n){if(1&t&&(i.Pb(0,"div",16),i.mc(1),i.Ob()),2&t){const t=i.Zb().$implicit;i.Ab(1),i.nc(t.label)}}function u(t,n){if(1&t&&(i.Nb(0),i.lc(1,a,2,1,"div",15),i.Mb()),2&t){const t=n.$implicit;i.Ab(1),i.ec("ngIf",t.value)}}function d(t,n){if(1&t&&(i.Pb(0,"span",17),i.mc(1),i.Ob()),2&t){const t=i.Zb().$implicit;i.Ab(1),i.oc("$",t.price,"")}}function m(t,n){if(1&t&&(i.Pb(0,"span",17),i.mc(1),i.ac(2,"number"),i.Ob()),2&t){const t=i.Zb().$implicit;i.Ab(1),i.oc("$",i.bc(2,1,t.price,"1.2-2"),"")}}function g(t,n){if(1&t){const t=i.Qb();i.Pb(0,"ion-item"),i.Pb(1,"ion-avatar",7),i.Lb(2,"img",8),i.Ob(),i.Pb(3,"ion-label",9),i.mc(4),i.Lb(5,"br"),i.lc(6,l,2,1,"ng-container",6),i.lc(7,u,2,1,"ng-container",6),i.Lb(8,"br"),i.lc(9,d,2,1,"span",10),i.lc(10,m,3,4,"span",10),i.Ob(),i.Pb(11,"ion-button",11),i.Xb("click",(function(){i.ic(t);const o=n.$implicit;return i.Zb(2).clickOnTrash(o.id)})),i.Lb(12,"ion-icon",12),i.Ob(),i.Ob()}if(2&t){const t=n.$implicit;i.Ab(2),i.ec("src",t.image,i.jc),i.Ab(2),i.oc(" ",t.productName," "),i.Ab(2),i.ec("ngForOf",t.options),i.Ab(1),i.ec("ngForOf",t.extras),i.Ab(2),i.ec("ngIf",t.price%1==0),i.Ab(1),i.ec("ngIf",t.price%1>0)}}function f(t,n){if(1&t&&(i.Pb(0,"ion-content"),i.lc(1,g,13,6,"ion-item",6),i.Ob()),2&t){const t=i.Zb();i.Ab(1),i.ec("ngForOf",t.order.cart.items)}}function O(t,n){1&t&&(i.Pb(0,"ion-item",22),i.Pb(1,"ion-label",23),i.Pb(2,"h3"),i.mc(3,"Your order is empty"),i.Ob(),i.Ob(),i.Ob())}function h(t,n){if(1&t&&(i.Pb(0,"ion-content"),i.Pb(1,"ion-item",18),i.Pb(2,"ion-label",19),i.Lb(3,"ion-icon",20),i.Ob(),i.Ob(),i.lc(4,O,4,0,"ion-item",21),i.Ob()),2&t){const t=i.Zb();i.Ab(4),i.ec("ngIf",0==t.order.cart.items.length)}}const p=function(){return["/checkout"]};function P(t,n){if(1&t){const t=i.Qb();i.Pb(0,"ion-footer",0),i.Pb(1,"ion-grid"),i.Pb(2,"ion-row"),i.Pb(3,"ion-col"),i.Pb(4,"ion-label",23),i.mc(5," Subtotal :"),i.Lb(6,"br"),i.Pb(7,"span",24),i.mc(8),i.ac(9,"number"),i.Ob(),i.Ob(),i.Ob(),i.Pb(10,"ion-col",25),i.Pb(11,"ion-button",26),i.Xb("click",(function(){return i.ic(t),i.Zb().clickOnCheckout()})),i.Lb(12,"ion-icon",27),i.Pb(13,"ion-label"),i.mc(14,"CHECKOUT"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()}if(2&t){const t=i.Zb();i.Ab(8),i.oc("$",i.bc(9,2,t.order.cart.totalPrice,"1.2-2"),""),i.Ab(3),i.ec("routerLink",i.fc(5,p))}}let k=(()=>{class t{constructor(t,n){this.order=t,this.modalController=n}ngOnInit(){}clickOnClose(){this.modalController.dismiss()}clickOnTrash(t){this.order.removeFromCart(t)}clickOnCheckout(){this.modalController.dismiss()}}return t.\u0275fac=function(n){return new(n||t)(i.Kb(e.a),i.Kb(c.Q))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-cart"]],decls:8,vars:3,consts:[[1,"ion-no-border"],["slot","end"],["color","medium",3,"click"],["name","close-outline"],[4,"ngIf"],["class","ion-no-border",4,"ngIf"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],[1,"ion-text-wrap"],["class","itemPrice",4,"ngIf"],["slot","end","color","dark","fill","clear",3,"click"],["name","trash-outline"],["class","option",4,"ngIf"],[1,"option"],["class","extra",4,"ngIf"],[1,"extra"],[1,"itemPrice"],["lines","none","disabled","",1,"ion-text-center"],["color","medium",1,"icon-empty"],["name","basket-outline"],["class","ion-text-center","lines","none",4,"ngIf"],["lines","none",1,"ion-text-center"],["color","medium"],[1,"totalPrice"],[1,"ion-text-right"],["routerDirection","forward","color","theme","fill","solid","shape","round",3,"routerLink","click"],["name","card","slot","start"]],template:function(t,n){1&t&&(i.Pb(0,"ion-header",0),i.Pb(1,"ion-toolbar"),i.Pb(2,"ion-buttons",1),i.Pb(3,"ion-button",2),i.Xb("click",(function(){return n.clickOnClose()})),i.Lb(4,"ion-icon",3),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.lc(5,f,2,1,"ion-content",4),i.lc(6,h,5,1,"ion-content",4),i.lc(7,P,15,6,"ion-footer",5)),2&t&&(i.Ab(5),i.ec("ngIf",n.order.cart.items.length>0),i.Ab(1),i.ec("ngIf",0==n.order.cart.items.length),i.Ab(1),i.ec("ngIf",n.order.cart.items.length>0))},directives:[c.q,c.L,c.g,c.f,c.r,r.j,c.l,r.i,c.u,c.d,c.w,c.o,c.p,c.D,c.k,c.U,b.h],pipes:[r.d],styles:["ion-slides[_ngcontent-%COMP%]{height:100%}.icon-empty[_ngcontent-%COMP%]{font-size:120px}.itemPrice[_ngcontent-%COMP%]{color:var(--ion-color-theme);font-weight:500;font-size:15px}.totalPrice[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:600;font-size:20px}.extra[_ngcontent-%COMP%], .option[_ngcontent-%COMP%]{display:inline-block;margin:1px 12px 1px 0;font-size:14px;font-weight:400;color:var(--ion-color-medium)}"]}),t})()},kVqo:function(t,n,o){"use strict";o.d(n,"a",(function(){return b}));var i=o("mrSG"),e=o("Xo8k"),c=o("fXoL"),r=o("TEn/");let b=(()=>{class t{constructor(t,n,o){this.toastController=t,this.navCtrl=n,this.modalController=o,this.cart={totalPrice:0,items:[]}}addToCart(t,n,o,i,e,c,r,b){let s="_"+Math.random().toString(36).substr(2,9);for(let u of b)u.value&&(i+=e);let l={id:s,productName:t,productId:n,image:o,price:i,extras:b,options:r},a=1;for(;a<=c;)this.cart.items.push(l),this.cart.totalPrice+=l.price,a++}removeFromCart(t){for(let n in this.cart.items)if(this.cart.items[n].id==t){this.cart.items.splice(parseFloat(n),1);break}}goToCart(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:e.a});return yield t.present()}))}orderIsFinished(){return Object(i.a)(this,void 0,void 0,(function*(){this.cart={totalPrice:0,items:[]},this.navCtrl.navigateRoot("/home"),(yield this.toastController.create({message:"Your order is complete. Thank you !",duration:3e3})).present()}))}}return t.\u0275fac=function(n){return new(n||t)(c.Tb(r.X),c.Tb(r.R),c.Tb(r.Q))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);